(()=>{var e={};e.id=894,e.ids=[894],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3261:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Job Tasks\\\\VertxAI Assignment\\\\community-learning-hub\\\\app\\\\dashboard\\\\post\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\post\\[id]\\page.tsx","default")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4527:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var r=t(687),a=t(3210),n=t(6189),i=t(5192),o=t(4934),d=t(3270),l=t(333);let c=(0,t(2688).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var h=t(9014),p=t(2117),u=t(3872),m=t(2953),x=t(474),v=t(5814),b=t.n(v),g=t(7008);function j(){let{id:e}=(0,n.useParams)(),{token:s}=(0,d.A)(),{toast:t}=(0,l.dj)(),[v,j]=(0,a.useState)(null),[f,y]=(0,a.useState)(!0),[N,w]=(0,a.useState)(!1),P=async()=>{if(s&&v)try{let e=await fetch(`https://redditgrambackend.vercel.app//feed/${N?"unsavepost":"savepost"}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({subredditid:v.id,title:v.title,permalink:v.permalink})});(await e.json()).executed&&(w(!N),N?t({title:"Post unsaved",description:"The post has been removed from your saved items."}):t({title:"Post saved",description:"The post has been added to your saved items and you earned 50 credits!"}))}catch(e){console.error("Error saving/unsaving post:",e),t({title:"Error",description:"Failed to save/unsave the post. Please try again.",variant:"destructive"})}},k=v?.type?.includes("image")&&v?.media?.url,A=v?.type?.includes("video")&&v?.media?.url,_=v?.text&&v?.text.length>0;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.$,{variant:"outline",size:"icon",asChild:!0,children:(0,r.jsx)(b(),{href:"/dashboard",children:(0,r.jsx)(c,{className:"h-4 w-4"})})}),(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Post Details"})]}),f?(0,r.jsx)(i.Zp,{className:"bg-white/80 backdrop-blur-md border border-white/20 h-96 animate-pulse",children:(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200"})})}):(0,r.jsx)(r.Fragment,{children:v?(0,r.jsxs)(i.Zp,{className:"bg-white/80 backdrop-blur-md border border-white/20",children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,r.jsx)(i.ZB,{className:"text-xl",children:v.title}),(0,r.jsxs)(o.$,{variant:"outline",size:"icon",className:N?"text-purple-600":"text-gray-400",onClick:P,children:[(0,r.jsx)(h.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:N?"Unsave":"Save"})]})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Posted by u/",v.author," in r/",v.subreddit," â€¢"," ",(0,g.GP)(new Date(1e3*v.createdUtc),"MMM d, yyyy 'at' h:mm a")]})]}),(0,r.jsxs)(i.Wu,{className:"space-y-4",children:[k&&(0,r.jsx)("div",{className:"relative w-full rounded-md overflow-hidden",children:(0,r.jsx)(x.default,{src:v.media?.url||"/placeholder.svg",alt:v.title,width:800,height:0,className:"h-auto w-full object-contain mx-auto"})}),A&&(0,r.jsx)("div",{className:"relative w-full rounded-md overflow-hidden bg-gray-100 flex items-center justify-center",children:(0,r.jsxs)("video",{controls:!0,className:"w-full h-auto object-cover",children:[(0,r.jsx)("source",{src:v.media?.url||"/placeholder.mp4",type:"video/mp4"}),(0,r.jsx)("source",{src:v.media?.url||"/placeholder.ogg",type:"video/ogg"}),"Your browser does not support the video tag."]})}),_&&(0,r.jsx)("div",{className:"prose max-w-none",children:(0,r.jsx)("p",{className:"text-gray-700",children:v.text})}),(0,r.jsxs)("div",{className:"flex items-center gap-6 pt-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,r.jsx)(p.A,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:[v.score," upvotes"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 text-gray-500",children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:[v.numComments," comments"]})]})]})]}),(0,r.jsxs)(i.wL,{className:"border-t pt-4 flex justify-between",children:[(0,r.jsx)(o.$,{variant:"outline",asChild:!0,children:(0,r.jsxs)(b(),{href:`${v.permalink}`,target:"_blank",className:"flex items-center gap-2",children:["View on Reddit",(0,r.jsx)(m.A,{className:"h-4 w-4"})]})}),(0,r.jsxs)(o.$,{variant:N?"default":"outline",onClick:P,className:"flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),N?"Unsave Post":"Save Post"]})]})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Post not found"}),(0,r.jsx)("p",{className:"text-gray-500 mb-6",children:"The post you're looking for doesn't exist or has been removed"}),(0,r.jsx)(o.$,{asChild:!0,children:(0,r.jsx)(b(),{href:"/dashboard",children:"Back to Dashboard"})})]})})]})}},4666:(e,s,t)=>{Promise.resolve().then(t.bind(t,3261))},5855:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>p,tree:()=>l});var r=t(5239),a=t(8088),n=t(8170),i=t.n(n),o=t(893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(s,d);let l={children:["",{children:["dashboard",{children:["post",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3261)),"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\post\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3249)),"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,8014)),"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\post\\[id]\\page.tsx"],h={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/post/[id]/page",pathname:"/dashboard/post/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},8946:(e,s,t)=>{Promise.resolve().then(t.bind(t,4527))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[800,814,844,100,627,161,765],()=>t(5855));module.exports=r})();