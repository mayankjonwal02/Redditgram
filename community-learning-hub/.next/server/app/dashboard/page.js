(()=>{var e={};e.id=105,e.ids=[105],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},872:(e,s,t)=>{Promise.resolve().then(t.bind(t,3209))},1981:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>x,tree:()=>o});var r=t(5239),i=t(8088),a=t(8170),l=t.n(a),n=t(893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4118)),"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,3249)),"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,8014)),"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\page.tsx"],h={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2317:(e,s,t)=>{"use strict";t.d(s,{A:()=>m});var r=t(687),i=t(5192),a=t(4934),l=t(9014),n=t(2117),d=t(3872),o=t(2953),c=t(474),h=t(5814),x=t.n(h),p=t(941);function m({post:e,isSaved:s,onSave:t}){let h=e.type?.includes("image")&&e.media?.url,m=e.type?.includes("video")&&e.media?.url,u=e.text&&e.text.length>0,g=(0,p.m)(new Date(1e3*e.createdUtc),{addSuffix:!0}),b=e.title.length>80?e.title.substring(0,80)+"...":e.title,v=u&&e.text&&e.text.length>120?e.text.substring(0,120)+"...":e.text;return(0,r.jsxs)(i.Zp,{className:"overflow-hidden bg-white/80 backdrop-blur-md border border-white/20 flex flex-col h-full",children:[(0,r.jsx)(i.aR,{className:"pb-2",children:(0,r.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(i.ZB,{className:"text-base line-clamp-2",children:b}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Posted by u/",e.author," in r/",e.subreddit," â€¢ ",g]})]}),(0,r.jsxs)(a.$,{variant:"ghost",size:"icon",className:s?"text-purple-600":"text-gray-400",onClick:t,children:[(0,r.jsx)(l.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:s?"Unsave":"Save"})]})]})}),(0,r.jsxs)(i.Wu,{className:"pb-2 flex-1",children:[h&&(0,r.jsx)("div",{className:"relative w-full h-40 mb-3 rounded-md overflow-hidden",children:(0,r.jsx)(c.default,{src:e.media?.url||"/placeholder.svg?height=160&width=320",alt:e.title,fill:!0,className:"object-cover"})}),m&&(0,r.jsx)("div",{className:"relative w-full h-40 mb-3 rounded-md overflow-hidden bg-gray-100 flex items-center justify-center",children:(0,r.jsxs)("video",{width:"320",height:"240",controls:!0,className:"object-cover w-full h-full",children:[(0,r.jsx)("source",{src:e.media?.url||"/placeholder.mp4",type:"video/mp4"}),(0,r.jsx)("source",{src:e.media?.url||"/placeholder.ogg",type:"video/ogg"}),"Your browser does not support the video tag."]})}),u&&(0,r.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3",children:v}),!u&&!h&&!m&&(0,r.jsx)("div",{className:"text-sm text-gray-500 italic",children:"No preview available"})]}),(0,r.jsxs)(i.wL,{className:"pt-2 border-t flex justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(n.A,{className:"h-3.5 w-3.5"}),(0,r.jsx)("span",{children:e.score})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(d.A,{className:"h-3.5 w-3.5"}),(0,r.jsx)("span",{children:e.numComments})]})]}),(0,r.jsxs)(x(),{href:`/dashboard/post/${e.subredditId}`,className:"text-xs text-purple-600 hover:underline flex items-center gap-1",children:["View Details",(0,r.jsx)(o.A,{className:"h-3 w-3"})]})]})]})}},2835:(e,s,t)=>{Promise.resolve().then(t.bind(t,4118))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3209:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(687),i=t(3210),a=t(5192),l=t(4934),n=t(3270),d=t(333),o=t(6561);let c=(0,t(2688).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var h=t(5814),x=t.n(h),p=t(2317);function m(){let{user:e,token:s,updateUser:t}=(0,n.A)(),{toast:h}=(0,d.dj)(),[m,u]=(0,i.useState)([]),[g,b]=(0,i.useState)(!0),[v,j]=(0,i.useState)([]),f=async()=>{if(s)try{let e=await fetch("http://localhost:5000/feed/fetchcredits",{method:"GET",headers:{Authorization:`Bearer ${s}`}}),r=await e.json();r.executed&&t({credits:r.credits})}catch(e){console.error("Error fetching credits:",e)}},y=async e=>{if(s)try{let t=v.includes(e.id),r=await fetch(`http://localhost:5000/feed/${t?"unsavepost":"savepost"}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({subredditid:e.id,title:e.title,permalink:e.permalink})});(await r.json()).executed&&(t?(j(v.filter(s=>s!==e.id)),h({title:"Post unsaved",description:"The post has been removed from your saved items."})):(j([...v,e.id]),h({title:"Post saved",description:"The post has been added to your saved items and you earned 50 credits!"}),f()))}catch(e){console.error("Error saving/unsaving post:",e),h({title:"Error",description:"Failed to save/unsave the post. Please try again.",variant:"destructive"})}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,r.jsxs)(a.Zp,{className:"flex-1 bg-white/80 backdrop-blur-md border border-white/20",children:[(0,r.jsxs)(a.aR,{className:"pb-2",children:[(0,r.jsxs)(a.ZB,{className:"text-lg flex items-center gap-2",children:[(0,r.jsx)(o.A,{className:"h-5 w-5 text-purple-600"}),"Your Credits"]}),(0,r.jsx)(a.BT,{children:"Earn credits by engaging with content"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:e?.credits||0}),(0,r.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:"Save posts to earn more credits. Use credits to unlock premium content."}),(0,r.jsx)(l.$,{variant:"outline",className:"mt-4",asChild:!0,children:(0,r.jsx)(x(),{href:"/dashboard/credits",children:"View Credit History"})})]})]}),(0,r.jsxs)(a.Zp,{className:"flex-1 bg-white/80 backdrop-blur-md border border-white/20",children:[(0,r.jsxs)(a.aR,{className:"pb-2",children:[(0,r.jsxs)(a.ZB,{className:"text-lg flex items-center gap-2",children:[(0,r.jsx)(c,{className:"h-5 w-5 text-purple-600"}),"Trending Topics"]}),(0,r.jsx)(a.BT,{children:"Popular topics in the community"})]}),(0,r.jsx)(a.Wu,{children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsx)(x(),{href:"/dashboard/explore?topic=technology",children:(0,r.jsx)(l.$,{variant:"outline",size:"sm",children:"Technology"})}),(0,r.jsx)(x(),{href:"/dashboard/explore?topic=science",children:(0,r.jsx)(l.$,{variant:"outline",size:"sm",children:"Science"})}),(0,r.jsx)(x(),{href:"/dashboard/explore?topic=programming",children:(0,r.jsx)(l.$,{variant:"outline",size:"sm",children:"Programming"})}),(0,r.jsx)(x(),{href:"/dashboard/explore?topic=design",children:(0,r.jsx)(l.$,{variant:"outline",size:"sm",children:"Design"})}),(0,r.jsx)(x(),{href:"/dashboard/explore?topic=business",children:(0,r.jsx)(l.$,{variant:"outline",size:"sm",children:"Business"})})]})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Recent Content"}),(0,r.jsx)(l.$,{variant:"outline",asChild:!0,children:(0,r.jsx)(x(),{href:"/dashboard/explore",children:"View All"})})]}),g?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((e,s)=>(0,r.jsx)(a.Zp,{className:"bg-white/80 backdrop-blur-md border border-white/20 h-64 animate-pulse",children:(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200"})})},s))}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(e=>(0,r.jsx)(p.A,{post:e,isSaved:v.includes(e.id),onSave:()=>y(e)},e.id))})]})]})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4118:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Job Tasks\\\\VertxAI Assignment\\\\community-learning-hub\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\page.tsx","default")},6561:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(2688).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[800,814,844,100,941,161,765],()=>t(1981));module.exports=r})();