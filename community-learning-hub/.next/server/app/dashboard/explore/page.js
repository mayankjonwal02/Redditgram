(()=>{var e={};e.id=225,e.ids=[225],e.modules={583:(e,s,t)=>{"use strict";function r(){return null}t.r(s),t.d(s,{default:()=>r})},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2317:(e,s,t)=>{"use strict";t.d(s,{A:()=>m});var r=t(687),a=t(5192),i=t(4934),n=t(9014),l=t(2117),o=t(3872),d=t(2953),c=t(474),p=t(5814),u=t.n(p),h=t(941);function m({post:e,isSaved:s,onSave:t}){let p=e.type?.includes("image")&&e.media?.url,m=e.type?.includes("video")&&e.media?.url,x=e.text&&e.text.length>0,g=(0,h.m)(new Date(1e3*e.createdUtc),{addSuffix:!0}),b=e.title.length>80?e.title.substring(0,80)+"...":e.title,v=x&&e.text&&e.text.length>120?e.text.substring(0,120)+"...":e.text;return(0,r.jsxs)(a.Zp,{className:"overflow-hidden bg-white/80 backdrop-blur-md border border-white/20 flex flex-col h-full",children:[(0,r.jsx)(a.aR,{className:"pb-2",children:(0,r.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a.ZB,{className:"text-base line-clamp-2",children:b}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Posted by u/",e.author," in r/",e.subreddit," â€¢ ",g]})]}),(0,r.jsxs)(i.$,{variant:"ghost",size:"icon",className:s?"text-purple-600":"text-gray-400",onClick:t,children:[(0,r.jsx)(n.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"sr-only",children:s?"Unsave":"Save"})]})]})}),(0,r.jsxs)(a.Wu,{className:"pb-2 flex-1",children:[p&&(0,r.jsx)("div",{className:"relative w-full h-40 mb-3 rounded-md overflow-hidden",children:(0,r.jsx)(c.default,{src:e.media?.url||"/placeholder.svg?height=160&width=320",alt:e.title,fill:!0,className:"object-cover"})}),m&&(0,r.jsx)("div",{className:"relative w-full h-40 mb-3 rounded-md overflow-hidden bg-gray-100 flex items-center justify-center",children:(0,r.jsxs)("video",{width:"320",height:"240",controls:!0,className:"object-cover w-full h-full",children:[(0,r.jsx)("source",{src:e.media?.url||"/placeholder.mp4",type:"video/mp4"}),(0,r.jsx)("source",{src:e.media?.url||"/placeholder.ogg",type:"video/ogg"}),"Your browser does not support the video tag."]})}),x&&(0,r.jsx)("p",{className:"text-sm text-gray-700 line-clamp-3",children:v}),!x&&!p&&!m&&(0,r.jsx)("div",{className:"text-sm text-gray-500 italic",children:"No preview available"})]}),(0,r.jsxs)(a.wL,{className:"pt-2 border-t flex justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(l.A,{className:"h-3.5 w-3.5"}),(0,r.jsx)("span",{children:e.score})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(o.A,{className:"h-3.5 w-3.5"}),(0,r.jsx)("span",{children:e.numComments})]})]}),(0,r.jsxs)(u(),{href:`/dashboard/post/${e.subredditId}`,className:"text-xs text-purple-600 hover:underline flex items-center gap-1",children:["View Details",(0,r.jsx)(d.A,{className:"h-3 w-3"})]})]})]})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},5694:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Job Tasks\\\\VertxAI Assignment\\\\community-learning-hub\\\\app\\\\dashboard\\\\explore\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\explore\\page.tsx","default")},6487:()=>{},7536:(e,s,t)=>{Promise.resolve().then(t.bind(t,8144))},7808:(e,s,t)=>{Promise.resolve().then(t.bind(t,5694))},8144:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(687),a=t(3210),i=t(6189),n=t(5192),l=t(8988),o=t(4934),d=t(3270),c=t(333),p=t(9270),u=t(2317);function h(){let{token:e}=(0,d.A)(),{toast:s}=(0,c.dj)(),t=(0,i.useSearchParams)().get("topic"),[h,m]=(0,a.useState)(t||""),[x,g]=(0,a.useState)([]),[b,v]=(0,a.useState)(!1),[f,j]=(0,a.useState)([]),y=async t=>{if(e&&t.trim()){v(!0);try{let r=await fetch("https://redditgrambackend.vercel.app//feed/specificfeed",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({subreddit:t.trim()})}),a=await r.json();a.executed&&a.data?g(a.data):s({title:"No results found",description:`No content found for "${t}". Try a different search term.`})}catch(e){console.error("Error searching feed:",e),s({title:"Error",description:"Failed to search content. Please try again.",variant:"destructive"})}finally{v(!1)}}},N=async t=>{if(e)try{let r=f.includes(t.id),a=await fetch(`https://redditgrambackend.vercel.app//feed/${r?"unsavepost":"savepost"}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({subredditid:t.id,title:t.title,permalink:t.permalink})});(await a.json()).executed&&(r?(j(f.filter(e=>e!==t.id)),s({title:"Post unsaved",description:"The post has been removed from your saved items."})):(j([...f,t.id]),s({title:"Post saved",description:"The post has been added to your saved items and you earned 50 credits!"})))}catch(e){console.error("Error saving/unsaving post:",e),s({title:"Error",description:"Failed to save/unsave the post. Please try again.",variant:"destructive"})}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Explore Content"})}),(0,r.jsx)(n.Zp,{className:"bg-white/80 backdrop-blur-md border border-white/20",children:(0,r.jsxs)(n.Wu,{className:"pt-6",children:[(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y(h)},className:"flex gap-2",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(p.A,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400"}),(0,r.jsx)(l.p,{type:"search",placeholder:"Search for a subreddit (e.g., 'programming', 'science')",className:"pl-9",value:h,onChange:e=>m(e.target.value)})]}),(0,r.jsx)(o.$,{type:"submit",disabled:b,children:b?"Searching...":"Search"})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,r.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>{m("programming"),y("programming")},children:"Programming"}),(0,r.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>{m("science"),y("science")},children:"Science"}),(0,r.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>{m("technology"),y("technology")},children:"Technology"}),(0,r.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>{m("design"),y("design")},children:"Design"}),(0,r.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>{m("business"),y("business")},children:"Business"})]})]})}),(0,r.jsx)("div",{children:b?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(9)].map((e,s)=>(0,r.jsx)(n.Zp,{className:"bg-white/80 backdrop-blur-md border border-white/20 h-64 animate-pulse",children:(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200"})})},s))}):(0,r.jsx)(r.Fragment,{children:x.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(e=>(0,r.jsx)(u.A,{post:e,isSaved:f.includes(e.id),onSave:()=>N(e)},e.id))}):(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No content found. Try searching for a different topic."})})})})]})}},8335:()=>{},8825:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=t(5239),a=t(8088),i=t(8170),n=t.n(i),l=t(893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d={children:["",{children:["dashboard",{children:["explore",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5694)),"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\explore\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,583)),"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\explore\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,3249)),"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,8014)),"D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\Job Tasks\\VertxAI Assignment\\community-learning-hub\\app\\dashboard\\explore\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/explore/page",pathname:"/dashboard/explore",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[800,814,844,100,941,161,765],()=>t(8825));module.exports=r})();